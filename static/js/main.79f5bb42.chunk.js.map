{"version":3,"sources":["components/HomePage.js","components/Room.js","components/App.js","index.js"],"names":["HomePage","socket","useState","room","setRoom","className","type","id","name","placeholder","autoComplete","onChange","event","target","value","htmlFor","onClick","preventDefault","to","Room","location","setValue","useEffect","io","roomData","queryString","parse","search","emit","once","val","on","data","axios","post","then","get","responseType","res","pdfBlob","Blob","saveAs","console","log","App","path","exact","component","ReactDOM","render","document","querySelector"],"mappings":"gMAiCeA,ICxBXC,EDwBWD,EA7Bf,WAAqB,IAAD,EACME,qBADN,mBACXC,EADW,KACLC,EADK,KAGlB,OACE,yBAAKC,UAAU,eACb,2BACEA,UAAU,cACVC,KAAK,QACLC,GAAG,OACHC,KAAK,OACLC,YAAY,SACZC,aAAa,MACbC,SAAU,SAACC,GAAD,OAAWR,EAAQQ,EAAMC,OAAOC,UAE5C,2BAAOC,QAAQ,OAAOV,UAAU,eAAhC,QAGA,kBAAC,IAAD,CACEW,QAAS,SAACJ,GAAD,OAAaT,EAAgC,KAAzBS,EAAMK,kBACnCC,GAAI,cAAgBf,GAEpB,4BAAQE,UAAU,eAAeC,KAAK,UAAtC,Y,kECgDOa,MA9Df,YAA6B,IAAbC,EAAY,EAAZA,SAAY,EACAlB,qBADA,mBACnBY,EADmB,KACZO,EADY,OAEFnB,qBAFE,mBAEnBC,EAFmB,KAEbC,EAFa,KA6C1B,OAzBAkB,qBAAU,WACRrB,EAASsB,IAAG,wCACX,IAEHD,qBAAU,WACR,IAAME,EAAWC,IAAYC,MAAMN,EAASO,QAE5CvB,EAAQoB,EAASrB,MACjBF,EAAO2B,KAAK,OAAQzB,KACnB,CAACiB,EAASO,OAAQxB,IAErBmB,qBAAU,WACRrB,EAAO4B,KAAK,QAAQ,SAACC,GACfA,IAAQhB,GACVO,EAASS,MAGb7B,EAAO8B,GAAG,gBAAgB,SAACC,GACrBA,IAASlB,GACXO,EAASW,MAGb/B,EAAO2B,KAAK,OAAQzB,KACnB,CAACW,EAAOX,IAGT,yBAAKE,UAAU,QACb,4BAAQA,UAAU,QAAQW,QA3CD,WAC3BiB,IACGC,KAAK,gDAAiDpB,GACtDqB,MAAK,kBACJF,IAAMG,IAAI,+CAAgD,CACxDC,aAAc,YAGjBF,MAAK,SAACG,GACL,IAAIC,EAAU,IAAIC,KAAK,CAACF,EAAIN,MAAO,CAAE1B,KAAM,oBAE3CmC,iBAAOF,EAAS,iBAEpBG,QAAQC,IAAI,oBA8BV,gBAGA,8BACEtC,UAAU,SACVI,YAAY,yBACZK,MAAOA,EACPH,SAAU,SAACC,GACTX,EAAO2B,KAAK,eAAgBhB,EAAMC,OAAOC,MAAOX,QCtD3CyC,EAPH,kBACV,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAOC,KAAK,IAAIC,OAAK,EAACC,UAAW/C,IAEjC,kBAAC,IAAD,CAAO6C,KAAK,QAAQE,UAAW5B,MCJnC6B,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,cAAc,W","file":"static/js/main.79f5bb42.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport \"./HomePage.css\";\nimport { Link } from \"react-router-dom\";\n\nfunction HomePage() {\n  const [room, setRoom] = useState();\n\n  return (\n    <div className=\"form__group\">\n      <input\n        className=\"form__field\"\n        type=\"input\"\n        id=\"name\"\n        name=\"name\"\n        placeholder=\"Room..\"\n        autoComplete=\"off\"\n        onChange={(event) => setRoom(event.target.value)}\n      />\n      <label htmlFor=\"name\" className=\"form__label\">\n        Room\n      </label>\n      <Link\n        onClick={(event) => (!room ? event.preventDefault() : null)}\n        to={\"/chat?room=\" + room}\n      >\n        <button className=\"button mt-20\" type=\"submit\">\n          Enter\n        </button>\n      </Link>\n    </div>\n  );\n}\n\nexport default HomePage;\n","import React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport queryString from \"query-string\";\nimport axios from \"axios\";\n\nimport { saveAs } from \"file-saver\";\n\nimport \"./room.css\";\n\nlet socket;\n\nfunction Room({ location }) {\n  const [value, setValue] = useState();\n  const [room, setRoom] = useState();\n\n  const createAndDownloadPdf = () => {\n    axios\n      .post(\"https://editor-colab.herokuapp.com/create-pdf\", value)\n      .then(() =>\n        axios.get(\"https://editor-colab.herokuapp.com/fetch-pdf\", {\n          responseType: \"blob\",\n        })\n      )\n      .then((res) => {\n        let pdfBlob = new Blob([res.data], { type: \"application/pdf\" });\n\n        saveAs(pdfBlob, \"editor.pdf\");\n      });\n    console.log(\"downloading...\");\n  };\n\n  useEffect(() => {\n    socket = io(\"https://editor-colab.herokuapp.com\");\n  }, []);\n\n  useEffect(() => {\n    const roomData = queryString.parse(location.search);\n\n    setRoom(roomData.room);\n    socket.emit(\"join\", room);\n  }, [location.search, room]);\n\n  useEffect(() => {\n    socket.once(\"init\", (val) => {\n      if (val !== value) {\n        setValue(val);\n      }\n    });\n    socket.on(\"chat-message\", (data) => {\n      if (data !== value) {\n        setValue(data);\n      }\n    });\n    socket.emit(\"send\", room);\n  }, [value, room]);\n\n  return (\n    <div className=\"cont\">\n      <button className=\"dload\" onClick={createAndDownloadPdf}>\n        Download PDF\n      </button>\n      <textarea\n        className=\"editor\"\n        placeholder=\"Type to collaborate...\"\n        value={value}\n        onChange={(event) => {\n          socket.emit(\"chat message\", event.target.value, room);\n        }}\n      ></textarea>\n    </div>\n  );\n}\n\nexport default Room;\n","import React from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport HomePage from \"./HomePage\";\nimport Room from \"./Room\";\n\nconst App = () => (\n  <Router>\n    <Route path=\"/\" exact component={HomePage} />\n\n    <Route path=\"/chat\" component={Room} />\n  </Router>\n);\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./components/App\";\n\nReactDOM.render(<App />, document.querySelector(\"#root\"));\n"],"sourceRoot":""}